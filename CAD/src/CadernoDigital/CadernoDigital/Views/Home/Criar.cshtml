@model CadernoDigital.Models.ViewModels.PublicacaoViewModel
@{
    ViewData["Title"] = "Criar Publicação";
}

@if (TempData["MensagemErro"] != null)
{
    <div class="alert alert-danger" role="alert">
        <button type="button" class="btn btn-danger btn-sm close-alert" data-bs-dismiss="alert" aria-label="Close">X</button>
        @TempData["MensagemErro"]
    </div>
}


<div class="text-center">
    <h1 class="display-4">Publicar Conteúdo</h1>
</div>

<div class="mb-5">
    <form asp-controller="Home" asp-action="Publicar" method="post" enctype="multipart/form-data">

        <div class="mb-3 form-group">
            <label for="titulo" class="form-label">Titulo</label>
            <input type="text" asp-for="Publicacao.Titulo" class="form-control" placeholder="Digite seu titulo">
            @Html.ValidationMessageFor(x => x.Publicacao.Titulo)
        </div>

        <div class="mb-3 form-group">
            <label for="conteudo" class="form-label">Conteudo</label>
            <textarea asp-for="Publicacao.Conteudo" class="form-control" placeholder="Digite seu conteudo"></textarea>
            @Html.ValidationMessageFor(x => x.Publicacao.Conteudo)
        </div>

        <div class="mb-3 form-group">
            <label for="conteudo" class="form-label">Disciplina</label>
            <select type="text" asp-for="DisciplinaProfessor.Id_Disciplina" asp-items="@(new SelectList(Model.Disciplinas,"Id","Nome"))" class="form-control"><option value="">Escolha...</option></select>
            @Html.ValidationMessageFor(x => x.DisciplinaProfessor.Id_Disciplina)
        </div>

        <div class="mb-3 form-group">
            <label for="conteudo" class="form-label">Professor</label>
            <select type="text" asp-for="DisciplinaProfessor.Id_Professor" asp-items="@(new SelectList(Model.Professores,"Id","Nome"))" class="form-control"><option value="">Escolha..</option></select>
            @Html.ValidationMessageFor(x => x.DisciplinaProfessor.Id_Professor)
        </div>

        <div class="mb-3 form-group">
            <label for="imagem" class="form-label">Faça upload da imagem</label>
            <input id="inputFile" type="file" accept=".jpeg,.jpg,.png,.mp4" asp-for="Imagem" class="form-control" placeholder="Selecione a imagem para upload">
            @Html.ValidationMessageFor(x => x.Imagem)
        </div>


        <button type="submit" class="btn btn-primary btn-block">Adicionar</button>
        <a class="btn btn-secondary btn-block" asp-action="Index" asp-controller="Home" role="button">Voltar</a>
    </form>
</div>
<script>
    $("#inputFile").change(function(){
        var fileName = $("#inputFile")[0].files.name
        console.log($("#inputFile")[0].files.name)
    })


</script>
<br />
